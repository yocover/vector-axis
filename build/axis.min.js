(function(a,h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define(h):(a=a||self,a.Axis=h())})(this,function(){return function(a,h){function l(b,e){var c=document.createElement("canvas");c.width=40;c.height=40;var d=c.getContext("2d");d.fillStyle=e||"#ffffff";d.font="35px Microsoft YaHei, sans-serif, Arial";d.textBaseline="top";d.fillText(b,0,0);b=new THREE.Mesh(new THREE.PlaneBufferGeometry(20,20),new THREE.MeshBasicMaterial({map:new THREE.CanvasTexture(c),
transparent:!0}));b.scale.set(1.3,1.3,1.3);return b}var k=a;a=new THREE.PerspectiveCamera(50,1,1,1E3);var g=new THREE.WebGLRenderer({alpha:!0,antialias:!0});g.setSize(200,200);var m=new THREE.Scene,n=document.createElement("div");n.style.cssText="width: 200px;height: 200px;margin: 1px;padding: 0px;position: absolute;left: 0px;bottom: 0px;z-index: 100;";n.appendChild(g.domElement);var t=[];m.add(function(){var b=new THREE.Vector3(1,0,0),e=new THREE.Vector3(0,1,0),c=new THREE.Vector3(0,0,1);b.normalize();
e.normalize();c.normalize();var d=new THREE.Vector3(0,0,0),f=new THREE.Group;b=new THREE.ArrowHelper(b,d,70,16764481,20,10);e=new THREE.ArrowHelper(e,d,70,14500663,20,10);c=new THREE.ArrowHelper(c,d,70,1088856,20,10);d=new THREE.Mesh(new THREE.SphereBufferGeometry(10,10,10),new THREE.MeshBasicMaterial({color:4425206,transparent:!0,opacity:.7}));t.push(d);d.position.set(0,0,0);f.add(d);var p=l("x","#ffce41");p.position.x=80;var q=l("y","#dd4337");q.position.y=80;var r=l("z","#109d58");r.position.z=
80;f.add(p);f.add(q);f.add(r);f.add(b);f.add(e);f.add(c);g.setAnimationLoop(function(){p.rotation.copy(k.rotation);q.rotation.copy(k.rotation);r.rotation.copy(k.rotation)});return f}());(function(){var b=new THREE.Raycaster,e=new THREE.Vector2;g.domElement.addEventListener("mousemove",function(){g.domElement.style.cursor="pointer"});g.domElement.addEventListener("click",function(c){e.x=c.offsetX/200*2-1;e.x=2*-(c.offsetY/200)+1;b.setFromCamera(e,a);0<b.intersectObjects(t).length&&(h.target=new THREE.Vector3(0))})})();
return{domElement:n,update:function(){a.position.copy(k.position);a.position.sub(h.target);a.position.setLength(380);a.lookAt(m.position);g.render(m,a)}}}});
